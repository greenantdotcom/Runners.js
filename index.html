<html>
<head>
	<script type="text/javascript" src="WorkerConsole.js"></script>
	<script type="text/javascript" src="w.js"></script>
</head>
<body>
	<script>
		var pool = Workers.newFixedWorkerPool(2);

		// TODO: return promises
		// TODO: allow callback when promise completes
		function busy() {
			var a = 0;
			while(true) {
				a+=1;
			}
		}

		// pool.execute(busy);
		// pool.execute(busy);

		pool.execute(function() {
			console.log('Hello');
		});
		pool.execute(function() {
			console.log('hoodby');
		});
		pool.execute(function() {
			console.log('hoodbye');
		});
	</script
</body>
</html>